<div class="container">
  <h1 class="text-center text-success">Reservation</h1>

    <table class="table shadow-lg p-3 mb-5 bg-body-tertiary rounded">
      <thead>
      <tr>
        <th>id</th>
        <th >Name</th>
        <th class="text-center">Context</th>
        <th class="text-center">Date</th>
        <th class="text-center">Duration</th>
        <th class="text-center">Person</th>
        <th class="text-center">Resource</th>

      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let r of reservation | paginate:{itemsPerPage:5,currentPage:page}">
        <td>{{r.id}}</td>
        <td>{{r.nom}}</td>
        <td class="text-center">{{r.contexte}}</td>
        <td class="text-center">{{r.date|date}}</td>
        <td class="text-center">{{r.duree}}</td>
        <td class="text-center">
          <button class="btn" (click)="showPerson(r.personne)"  data-bs-toggle="modal" data-bs-target="#exampleModal">
            <i class="bi bi-person-circle "></i>
          </button>
        </td>
        <td class="text-center">
          <button class="btn" (click)="showResource(r.resource)"  data-bs-toggle="modal" data-bs-target="#resource_modal">
            <i class="bi bi-archive text-success "></i>
          </button>
        </td>

      </tr>
      </tbody>
    </table>
  <div class="text-center">
    <pagination-controls (pageChange)="page = $event"></pagination-controls>
  </div>


</div>


<!-- Modal Person-->
  <div class="modal fade" id="exampleModal"  aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5 text-center" >Person Information</h1>
          <button type="button" class="btn-close" aria-label="Close"  data-bs-dismiss="modal" ></button>
        </div>
        <div class="modal-body text-center">
          <span class="fw-bold">Nom: </span>{{person?.nom}}<br>
          <span class="fw-bold">Fonction: </span>{{person?.fonction}}

        </div>
      </div>
    </div>
  </div>
<!-- Modal Resouce-->
  <div class="modal fade" id="resource_modal"  aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5 text-center" >Resource Information</h1>
          <button type="button" class="btn-close" aria-label="Close"  data-bs-dismiss="modal" ></button>
        </div>
        <div class="modal-body text-center">
          <span class="fw-bold">Name: </span>{{resource?.nom}}<br>
          <span class="fw-bold">Function: </span>{{resource?.type}}

        </div>
      </div>
    </div>
  </div>

<!-- Update Modal -->
<div class="modal fade" id="updateModal"  aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5 text-center" >Edit Person Information</h1>
        <button type="button" class="btn-close" aria-label="Close"  data-bs-dismiss="modal" ></button>
      </div>
      <div class="modal-body text-center">
        <span class="fw-bold ">Name: </span><br>
        <input type="text" class="form-control" value="{{editRes?.name}}">
        <span class="fw-bold">Duration: </span><br>
        <input type="text" class="form-control" value="{{editRes?.duration}}">
        <span class="fw-bold">Context: </span><br>
        <textarea class="form-control" value="{{editRes?.context}}"> </textarea><br>
        <div class="d-grid gap-2">
          <button type="submit" class="btn btn-info d-grid gap-2">edit</button>
        </div>
      </div>
    </div>
  </div>
</div>
